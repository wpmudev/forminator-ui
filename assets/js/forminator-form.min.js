/*!
 * WPMU DEV Forminator UI
 * Copyright 2019 Incsub (https://incsub.com)
 * Licensed under GPL v3 (http://www.gnu.org/licenses/gpl-3.0.html)
 */
/*!
 * WPMU DEV Forminator UI
 * Copyright 2019 Incsub (https://incsub.com)
 * Licensed under GPL v3 (http://www.gnu.org/licenses/gpl-3.0.html)
 */
function ownKeys(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,i)}return o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(e){_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function _defineProperty(t,e,o){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,e||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}!function(t){"use strict";"object"!==_typeof(window.FUI)&&(window.FUI={}),FUI.inputStates=function(e){var o=t(e),i=o.closest("form");if(o.is("input")||i.is(".forminator-poll")&&(i.is(".forminator-ui")||i.is(".forminator-custom-form")))return o.each(function(){var e,o;e=t(this),o=e.closest(".forminator-field"),e.mouseover(function(t){o.addClass("forminator-is_hover"),t.stopPropagation()}).mouseout(function(t){o.removeClass("forminator-is_hover"),t.stopPropagation()}),function(e){var o=t(e),i=o.closest(".forminator-field");o.focus(function(t){i.addClass("forminator-is_active"),t.stopPropagation()}).blur(function(t){i.removeClass("forminator-is_active"),t.stopPropagation()})}(this),function(e){var o=t(e),i=o.closest(".forminator-field");""!==o.val().trim()&&i.addClass("forminator-is_filled"),o.on("change",function(){""!==o.val().trim()?i.addClass("forminator-is_filled"):i.removeClass("forminator-is_filled")})}(this)}),this}}(jQuery),function(t){"use strict";"object"!==_typeof(window.FUI)&&(window.FUI={}),FUI.inputMaterial=function(e){var o=t(e),i=o.closest(".forminator-field"),a=i.find(".forminator-label"),r=o.closest("form");if(o.is("input")||r.is(".forminator-poll")&&(r.is(".forminator-ui")||r.is(".forminator-custom-form")))return o.parent().hasClass("forminator-input--wrap")||o.wrap('<div class="forminator-input--wrap"></div>'),a.length&&(a.addClass("forminator-floating--input"),i.find(".forminator-input-with-icon").length&&a.addClass("forminator-has_icon"),i.find(".forminator-input-with-phone").length&&(a.addClass("forminator-has_phone"),i.find(".intl-tel-input").hasClass("allow-dropdown")&&a.addClass("allow-dropdown"))),this}}(jQuery),function(t){"use strict";"object"!==_typeof(window.FUI)&&(window.FUI={}),FUI.textareaStates=function(e){var o=t(e),i=o.closest("form");if(o.is("textarea")||i.is(".forminator-ui")||i.is(".forminator-custom-form"))return o.each(function(){var e,o;e=t(this),o=e.closest(".forminator-field"),e.mouseover(function(t){o.addClass("forminator-is_hover"),t.stopPropagation()}).mouseout(function(t){o.removeClass("forminator-is_hover"),t.stopPropagation()}),function(e){var o=t(e),i=o.closest(".forminator-field");o.focus(function(t){i.addClass("forminator-is_active"),t.stopPropagation()}).blur(function(t){i.removeClass("forminator-is_active"),t.stopPropagation()})}(this),function(e){var o=t(e),i=o.closest(".forminator-field");o.on("load",function(){""!==o.val().trim()&&i.addClass("forminator-is_filled")}),o.on("change",function(){""!==o.val().trim()?i.addClass("forminator-is_filled"):i.removeClass("forminator-is_filled")})}(this)}),this}}(jQuery),function(t){"use strict";"object"!==_typeof(window.FUI)&&(window.FUI={}),FUI.textareaMaterial=function(e){var o=t(e),i=o.closest(".forminator-field"),a=i.find(".forminator-label"),r=o.closest("form");if((o.is("textarea")||r.is(".forminator-ui")||r.is(".forminator-custom-form"))&&!o.hasClass("wp-editor-area"))return function(){if(o.parent().hasClass("forminator-textarea--wrap")||o.wrap('<div class="forminator-textarea--wrap"></div>'),a.length){var t=(0===a.height()?20:a.height())+9;a.addClass("forminator-floating--textarea"),i.css({position:"relative"}),o.val()&&i.addClass("forminator-is_filled"),i.hasClass("forminator-is_filled")&&i.hasClass("forminator-is_active")||a.css({"padding-top":t+"px"}),o.css({"padding-top":t+"px"})}}(),this}}(jQuery),function(t){"use strict";"object"!==_typeof(window.FUI)&&(window.FUI={}),FUI.radioStates=function(e){var o=t(e),i=o.find("input");if(o.is("label")&&"radio"===i.prop("type"))return i.each(function(){t(this).on("click",function(){var e=t(this),o=e.parent(),i=o.closest(".forminator-field").find(".forminator-radio");i.find("input").prop("checked",!1),i.removeClass("forminator-is_checked"),e.prop("checked","checked"),o.addClass("forminator-is_checked")})}),this}}(jQuery),function(t){"use strict";"object"!==_typeof(window.FUI)&&(window.FUI={}),FUI.checkboxStates=function(e){var o=t(e),i=o.find("input");if(o.is("label")&&"checkbox"===i.prop("type"))return i.each(function(){t(this).on("click",function(){var e=t(this).parent();e.is(".forminator-is_checked")?e.removeClass("forminator-is_checked"):e.addClass("forminator-is_checked")})}),this}}(jQuery),function(t){"use strict";"object"!==_typeof(window.FUI)&&(window.FUI={}),FUI.multiSelectStates=function(e){var o=t(e),i=o.find(".forminator-option"),a=i.find("input");if(o.is(".forminator-multiselect")&&0!==i.length)return a.each(function(){t(this).on("click",function(){var e=t(this).parent();e.is(".forminator-is_checked")?e.removeClass("forminator-is_checked"):e.addClass("forminator-is_checked")})}),this}}(jQuery),function(t){"use strict";"object"!==_typeof(window.FUI)&&(window.FUI={}),FUI.select={},FUI.select.formatCheckbox=function(t,e){var o=t.text,i=t.selected,a=t.id||o.toLowerCase().replace(/\s+/g,"-"),r=document.createElement("label");r.setAttribute("for",a),r.className="forminator-checkbox";var n=document.createElement("input");n.type="checkbox",n.value=o,n.id=a,i&&(n.checked=!0);var s=document.createElement("span");s.className="forminator-checkbox-box",s.setAttribute("aria-hidden","true");var l=document.createElement("span");return l.className="forminator-select-label",l.textContent=o,r.appendChild(n),r.appendChild(s),r.appendChild(l),r},FUI.select2=function(){t(".forminator-custom-form").each(function(){var e=t(this),o=e.data("form-id"),i=e.find(".forminator-select2");t.each(["bold","flat","default","basic","material","none"],function(a,r){var n,s="en",l="Select",d=-1,c=!1;e.hasClass("forminator-design--"+r)&&i.length&&i.each(function(){var e=t(this),i=e.closest(".sui-dialog-content"),a=i.length?i:e.closest(".elementor-popup-modal"),f="forminator-custom-form-"+o+" forminator-dropdown--"+r;n=!0===e.data("rtl-support")||"rtl"===e.closest("html").attr("dir")?"rtl":"ltr",l=e.data("placeholder")?e.data("placeholder"):"Select",s=e.data("language")?e.data("language"):"en",d=!0===e.data("search")?0:-1,!0===e.data("checkbox")?(c=!0,f+=" forminator-dropdown--checkbox"):c=!1,e.prop("multiple")&&(f+=" forminator-dropdown--multiple"),a.length||(a=t(document.body)),e.FUIselect2(_objectSpread({dir:n,language:s,placeholder:l,dropdownCssClass:f,minimumResultsForSearch:d,dropdownParent:a},c&&{closeOnSelect:!1,templateResult:FUI.select.formatCheckbox,escapeMarkup:function(t){return t}})).on("select2:opening",function(){e.data("search-placeholder")?e.data("select2").$dropdown.find(":input.select2-search__field").prop("placeholder",e.data("search-placeholder")):e.data("select2").$dropdown.find(":input.select2-search__field").prop("placeholder",e.data("placeholder")?e.data("placeholder"):"Search"),(e.closest(".hustle-popup").length||e.closest(".hustle-slidein"))&&t(document.body).addClass("forminator-hustle-dropdown-fix")}).on("select2:closing",function(){t(document.body).removeClass("forminator-hustle-dropdown-fix")})})})})}}(jQuery),function(){"use strict";"object"!==_typeof(window.FUI)&&(window.FUI={});var t=t||{};t.KeyCode={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},t.Utils=t.Utils||{},t.Utils.remove=function(t){return t.remove&&"function"==typeof t.remove?t.remove():!(!t.parentNode||!t.parentNode.removeChild||"function"!=typeof t.parentNode.removeChild)&&t.parentNode.removeChild(t)},t.Utils.isFocusable=function(t){if(0<t.tabIndex||0===t.tabIndex&&null!==t.getAttribute("tabIndex"))return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&"ignore"!=t.rel;case"INPUT":return"hidden"!=t.type&&"file"!=t.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},t.Utils.simulateClick=function(t){var e=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});t.dispatchEvent(e)},t.Utils.IgnoreUtilFocusChanges=!1,t.Utils.dialogOpenClass="forminator-authentication-enabled",t.Utils.focusFirstDescendant=function(e){for(var o=0;o<e.childNodes.length;o++){var i=e.childNodes[o];if(t.Utils.attemptFocus(i)||t.Utils.focusFirstDescendant(i))return!0}return!1},t.Utils.focusLastDescendant=function(e){for(var o=e.childNodes.length-1;0<=o;o--){var i=e.childNodes[o];if(t.Utils.attemptFocus(i)||t.Utils.focusLastDescendant(i))return!0}return!1},t.Utils.attemptFocus=function(e){if(!t.Utils.isFocusable(e))return!1;t.Utils.IgnoreUtilFocusChanges=!0;try{e.focus()}catch(t){}return t.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===e},t.OpenDialogList=t.OpenDialogList||new Array(0),t.getCurrentDialog=function(){if(t.OpenDialogList&&t.OpenDialogList.length)return t.OpenDialogList[t.OpenDialogList.length-1]},t.closeCurrentDialog=function(){var e=t.getCurrentDialog();return!!e&&(e.close(),!0)},t.handleEscape=function(e){(e.which||e.keyCode)===t.Utils.ESC&&t.closeCurrentDialog()&&e.stopPropagation()},document.addEventListener("keyup",t.handleEscape),t.Authentication=function(e,o,i){if(this.dialogNode=document.getElementById(e),null===this.dialogNode)throw new Error('No element found with id="'+e+'".');var a=["dialog","alertdialog"];if(!(this.dialogNode.getAttribute("role")||"").trim().split(/\s+/g).some(function(t){return a.some(function(e){return t===e})}))throw new Error("Dialog() requires a DOM element with ARIA role of dialog or alertdialog.");var r="forminator-authentication";if(this.dialogNode.parentNode.classList.contains(r)?this.backdropNode=this.dialogNode.parentNode:(this.backdropNode=document.createElement("div"),this.backdropNode.className=r,this.backdropNode.data("markup","new"),this.dialogNode.parentNode.insertBefore(this.backdropNode,this.dialogNodev),this.backdropNode.appendChild(this.dialogNode)),this.backdropNode.classList.add("forminator-active"),document.body.parentNode.classList.add(t.Utils.dialogOpenClass),"string"==typeof o)this.focusAfterClosed=document.getElementById(o);else{if("object"!==_typeof(o))throw new Error("the focusAfterClosed parameter is required for the aria.Authentication constructor.");this.focusAfterClosed=o}"string"==typeof i?this.focusFirst=document.getElementById(i):"object"===_typeof(i)?this.focusFirst=i:this.focusFirst=null;var n=document.createElement("div");this.preNode=this.dialogNode.parentNode.insertBefore(n,this.dialogNode),this.preNode.tabIndex=0;var s=document.createElement("div");this.postNode=this.dialogNode.parentNode.insertBefore(s,this.dialogNode.nextSibling),this.postNode.tabIndex=0,0<t.OpenDialogList.length&&t.getCurrentDialog().removeListeners(),this.addListeners(),t.OpenDialogList.push(this),this.dialogNode.classList.add("forminator-authentication-fade-in"),this.dialogNode.classList.remove("forminator-authentication-fade-out"),this.focusFirst?this.focusFirst.focus():t.Utils.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement},t.Authentication.prototype.close=function(){var e=this;t.OpenDialogList.pop(),this.removeListeners(),this.preNode.parentNode.removeChild(this.preNode),this.postNode.parentNode.removeChild(this.postNode),this.dialogNode.classList.add("forminator-content-fade-out"),this.dialogNode.classList.remove("forminator-content-fade-in"),this.focusAfterClosed.focus(),setTimeout(function(){e.backdropNode.classList.remove("forminator-active")},300),0<t.OpenDialogList.length?t.getCurrentDialog().addListeners():document.body.parentNode.classList.remove(t.Utils.dialogOpenClass)},t.Authentication.prototype.addListeners=function(){document.addEventListener("focus",this.trapFocus,!0)},t.Authentication.prototype.removeListeners=function(){document.removeEventListener("focus",this.trapFocus,!0)},t.Authentication.prototype.trapFocus=function(e){if(!t.Utils.IgnoreUtilFocusChanges){var o=t.getCurrentDialog();o.dialogNode.contains(e.target)?o.lastFocus=e.target:(t.Utils.focusFirstDescendant(o.dialogNode),o.lastFocus==document.activeElement&&t.Utils.focusLastDescendant(o.dialogNode),o.lastFocus=document.activeElement)}},FUI.openAuthentication=function(e,o,i){new t.Authentication(e,o,i)},FUI.closeAuthentication=function(){t.getCurrentDialog().close()}}(),function(t){"use strict";"object"!==_typeof(window.FUI)&&(window.FUI={}),FUI.slider=function(){function e(t,e){return a(t.find(".forminator-slider-amount").data("value-template")||"{slider-value}").replace("{slider-value}",'<span class="forminator-slider-value">'+a(String(e))+"</span>")}function o(t,e,o,i,a){var r=t.find(".forminator-slider-amount"),n=t.find(".forminator-slide").data("is-range");r.find(".forminator-slider-value-min").html(e),n&&(i===a?(r.find(".forminator-slider-separator").hide(),r.find(".forminator-slider-value-max").html("")):(r.find(".forminator-slider-separator").show(),r.find(".forminator-slider-value-max").html(o)))}function i(t,e){var o=parseFloat(t,10);return isNaN(o)?e:o}function a(t){return"string"!=typeof t?"":t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}t(".forminator-slider").each(function(){var r=t(this),n=r.find(".forminator-slide"),s=r.find(".forminator-hidden-input"),l=r.hasClass("forminator-disabled"),d=r.find(".forminator-slider-limit"),c=n.data("is-range"),f=i(n.data("min"),0),u=i(n.data("max"),100),m=i(n.data("value"),f),p=i(n.data("value-max"),u),h=i(n.data("step"),1),v=r.find(".forminator-slider-amount"),g=t('label[for="'+s.attr("id")+'"]');!0!==n.data("init")&&(n.slider(_objectSpread(_objectSpread({range:!!c||"min",min:f,max:u,disabled:l,step:h},c?{values:[m,p]}:{value:m}),{},{create:function(i,s){var l=e(r,m),g=c?e(r,p):null,b=t(this).find(".ui-slider-handle");n.data("init",!0),v.find(".forminator-slider-hidden-min").val(m).change(),c&&v.find(".forminator-slider-hidden-max").val(p).change(),function(e,o,i,a){if(!e.length)return;var r="all"===e.data("step-type");e.empty(),e.css({position:"relative",height:"22px"});for(var n=o;n<=i;n+=a)if(r||n===o||n===i){var s=Math.floor((i-o)/a),l=Math.floor((n-o)/a)/s*100,d="forminator-slider-limit-between";n===o?d="forminator-slider-limit-min":n===i&&(d="forminator-slider-limit-max");var c=t('<span class="'+d+'">'+n+"</span>").css({left:l+"%",position:"absolute"});c.css("transform","translateX(-50%)"),e.append(c)}}(d,f,u,h),function(e,o){var i=a(o.data("min-label")||""),r=a(o.data("max-label")||""),n=t('<span class="forminator-slider-label-min"></span>').text(i),s=t('<span class="forminator-slider-label-max"></span>').text(r),l=t('<div class="forminator-slider-labels"></div>').append(n).append(s);e.length&&e.prev(".forminator-slide").length?e.after(l):e.length&&e.next(".forminator-slide").length&&e.before(l)}(d,n),o(r,l,g,m,p),b.each(function(e){var o=0===e?m:p;t(this).attr({role:"slider","aria-valuemin":f,"aria-valuemax":u,"aria-valuenow":o,"aria-valuetext":o})})},slide:function(i,a){var n=c?a.values[0]:a.value,s=c?a.values[1]:null,l=e(r,n),d=c?e(r,s):null,f=t(this).find(".ui-slider-handle");o(r,l,d,n,s),c?(f.eq(0).attr({"aria-valuenow":a.values[0],"aria-valuetext":a.values[0]}),f.eq(1).attr({"aria-valuenow":a.values[1],"aria-valuetext":a.values[1]})):f.eq(0).attr({"aria-valuenow":a.value,"aria-valuetext":a.value})},stop:function(t,e){var o=c?e.values[0]:e.value,i=c?e.values[1]:null;e.handle===r.find(".ui-slider-handle")[0]?v.find(".forminator-slider-hidden-min").val(o).change():e.handle===r.find(".ui-slider-handle")[1]?v.find(".forminator-slider-hidden-max").val(i).change():v.find(".forminator-slider-hidden-min").val(o).change()}})),g.on("click",function(){var e=n.find(".ui-slider-handle");l||(c&&1<e.length?t(e[0]).focus():e.focus())}))})}}(jQuery),function(t){"use strict";var e=!1;"object"!==_typeof(window.FUI)&&(window.FUI={}),FUI.rating=function(o){o.each(function(){var e,o=t(this),i=o.attr("id"),a=o.find("option").not(":disabled"),r=a.length,n=(o.attr("data-type")||"star").replace(/[^a-z0-9_-]/gi,""),s=(o.attr("data-size")||"md").replace(/[^a-z0-9_-]/gi,""),l=Number(o.find("option:selected").val())||0,d=t('<div class="forminator-rating-wrapper"></div>'),c=t("<span></span>").attr("data-id",i).attr("data-selected-value",l).addClass("forminator-rating-items").addClass("forminator-rating-"+s.replace(/[^a-z0-9_-]/gi,""));for("true"===(o.attr("data-init")||"false")&&o.next(".forminator-rating-wrapper").remove(),e=0;e<r;e++){var f=Number(a.eq(e).val()),u=f<=l?"forminator-rating-item forminator-rating-selected":"forminator-rating-item";c.append(t("<span>",{class:u,"data-value":f}).append(t("<i>",{class:"forminator-icon-"+n,"aria-hidden":"true"})))}o.attr("data-selected-value",l),o.attr("data-total-value",r),d.append(c),"true"===o.attr("data-suffix")&&c.append('<span class="forminator-rating-suffix">('+l+"/"+r+")</span>"),o.after(d),o.attr("data-init","true"),o.on("change",function(){var e=Number(t(this).val())||0,o=t('[data-id="'+i+'"]'),a=o.find(".forminator-rating-suffix");o.attr("data-selected-value",e),t(this).attr("data-selected-value",e),o.children().removeClass("forminator-rating-selected"),o.children().each(function(){t(this).data("value")<=e&&t(this).addClass("forminator-rating-selected")}),a.length&&a.text("("+e+"/"+o.children().not(".forminator-rating-suffix").length+")")})}),e||(FUI.rating.events(),e=!0)},FUI.rating.events=function(){t(document).on("mouseenter",".forminator-rating-item",function(){var e=t(this);e.siblings().removeClass("forminator-rating-selected"),e.prevAll().addBack().addClass("forminator-rating-hover")}),t(document).on("mouseleave",".forminator-rating-item",function(){var e=t(this),o=e.closest(".forminator-rating-items").data("id"),i=t("#"+o),a=Number(i.find("option:selected").val());e.prevAll().addBack().removeClass("forminator-rating-hover"),e.siblings().addBack().each(function(){t(this).data("value")<=a?t(this).addClass("forminator-rating-selected"):t(this).removeClass("forminator-rating-selected")})}),t(document).on("click",".forminator-rating-item",function(){var e=t(this),o=Number(e.data("value")),i=e.closest(".forminator-rating-items"),a=i.data("id"),r=t("#"+a),n=i.find(".forminator-rating-suffix");r.val(o).trigger("change"),i.attr("data-selected-value",o),r.attr("data-selected-value",o),e.siblings().removeClass("forminator-rating-selected"),e.prevAll().addBack().addClass("forminator-rating-selected"),n.length&&n.text("("+o+"/"+i.children().not(".forminator-rating-suffix").length+")")}),t(document).on("focus",".forminator-rating",function(){t(this).next(".forminator-rating-wrapper").addClass("forminator-rating-focused")}),t(document).on("blur",".forminator-rating",function(){t(this).next(".forminator-rating-wrapper").removeClass("forminator-rating-focused")}),t(document).on("keydown",".forminator-rating",function(e){var o=t(this),i=o.find("option"),a=i.index(o.find("option:selected"));"ArrowUp"!==e.key&&"ArrowRight"!==e.key&&"ArrowDown"!==e.key&&"ArrowLeft"!==e.key||e.preventDefault(),("ArrowUp"===e.key||"ArrowRight"===e.key)&&a<i.length-1?i.eq(a+1).prop("selected",!0).trigger("change"):("ArrowDown"===e.key||"ArrowLeft"===e.key)&&0<a&&i.eq(a-1).prop("selected",!0).trigger("change")})}}(jQuery);