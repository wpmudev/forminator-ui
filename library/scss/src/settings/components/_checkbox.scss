$checkbox-image: 80px;

@mixin component-checkbox($form-type: no-type, $form-theme: no-theme) {

	@include form-class($form-type, $form-theme, false) {

		.forminator-checkbox {
			cursor: default;
			pointer-events: none;
			display: flex;
			flex: 0 0 auto; // It works with `.forminator-checkbox__wrapper` element.
			align-items: center;
			position: relative;
			margin: 10px 0;

			input {
				@extend %screen-readers;

				&:checked {

					@if ('material' == $form-theme) {

						&:focus {

							+ .forminator-checkbox-box:after {
								animation-name: click-animation;
							}
						}
					}

					+ .forminator-checkbox-box:before {
						@include opacity(1);
					}

					@if ('material' == $form-theme) {

						+ .forminator-checkbox-box:after {
							@include opacity(1);
						}

						~ .forminator-checkbox-image {
							box-shadow: 0 3px 8px 0 rgba(0,0,0,0.3);
						}
					}
				}
			}

			span {
				cursor: pointer;
				pointer-events: all;
				display: block;
			}

			.forminator-checkbox-box {
				width: map-get($checkbox, size);
				height: map-get($checkbox, size);
				flex: 0 0 map-get($checkbox, size);
				position: relative;
				@if ('default' == $form-theme) {
					border-width: map-get($border-width, default);
					border-style: map-get($border-style, default);
					border-radius: map-get($border-radius, default);
				}
				@if ('flat' == $form-theme) {
					border-width: map-get($border-width, flat);
					border-style: map-get($border-style, flat);
					border-radius: map-get($border-radius, flat);
				}
				@if ('bold' == $form-theme) {
					border-width: map-get($border-width, bold);
					border-style: map-get($border-style, bold);
					border-radius: map-get($border-radius, bold);
				}
				@if ('material' == $form-theme) {
					border-width: #{map-get($border-width, material) * 2};
					border-style: map-get($border-style, material);
					border-radius: map-get($border-radius, material);
				}

				@include icon(before, check) {
					@include opacity(0);
					display: block;
					position: absolute;
					top: 50%;
					left: 50%;
					color: map-get($icon, color);
					font-size: map-get($checkbox, icon);
					transform: translate(-50%, -50%);
					transition: map-get($transition, ease);
				}

				@if ('material' == $form-theme) {

					&:after {
						content: " ";
						@include opacity(0);
						width: map-get($checkbox, size);
						height: map-get($checkbox, size);
						position: absolute;
						top: 50%;
						left: 50%;
						border-radius: 100%;
						transform: translate(-50%, -50%) scale(0);
						transform-origin: center;
						transform-style: preserve-3d;
						animation-duration: 0.6s;
						animation-fill-mode: both;
					}
				}

				~ span {
					margin-left: 10px;
				}
			}

			// ELEMENT: Label
			&-label {
				flex: 0 1 auto;
				line-height: 20px;
			}

			.forminator-checkbox-image {
				@if ('material' == $form-theme) {
					position: relative;
					overflow: hidden;
				}
				flex: 0 0 auto;
				@if ('default' == $form-theme) {
					padding: #{5px - (map-get($border-width, default) * 2)};
					border-width: #{map-get($border-width, default) * 2};
					border-style: map-get($border-style, default);
					border-radius: map-get($border-radius, default);
				}
				@if ('flat' == $form-theme) {
					padding: 5px;
					border-width: 0;
					border-style: none;
				}
				@if ('bold' == $form-theme) {
					padding: #{5px - map-get($border-width, bold)};
					border-width: map-get($border-width, bold);
					border-style: map-get($border-style, bold);
					border-radius: map-get($border-radius, bold);
				}
				@if ('material' == $form-theme) {
					border-width: 2px;
					border-color: transparent;
					border-style: solid;
					border-radius: map-get($border-radius, material);
					background-color: #FFF;
					box-shadow: 0 1px 1px 0 rgba(0,0,0,0.3);
					transition: 0.2s ease;
				}

				span {
					width: #{$checkbox-image - 10px};
					height: #{$checkbox-image - 10px};
					background-repeat: no-repeat;
					background-size: cover;
					background-position: center;
				}
			}

			@if ('material' == $form-theme) {

				&:hover {

					.forminator-checkbox-image {
						box-shadow: 0 3px 8px 0 rgba(0,0,0,0.3);
						@include media(max-width, md) {
							box-shadow: 0 1px 1px 0 rgba(0,0,0,0.3);
						}
					}
				}
			}

			// ELEMENT: Wrapper
			&__wrapper {
				display: flex;
				flex-flow: row nowrap;
				align-items: flex-start;
			}

			// ELEMENT: Label
			&__label {
				flex: 0 1 auto;
				line-height: 20px;
				margin-left: 10px;

				h1, h2, h3, h4, h5, h6, p, ul, ol {

					&:last-child {
						margin-bottom: 0;
					}
				}
			}

			// VARIATION: Has Image.
			&.forminator-has_image {

				.forminator-checkbox-image {
					margin-left: 0;
				}
			}

			// ALIGNMENT: Inline
			&.forminator-checkbox-inline {
				display: inline-flex;
				vertical-align: middle;
				margin-right: 20px;
				margin-bottom: 0;

				// VARIATION: Box + Label.
				&.forminator-has_box {
					min-width: $checkbox-image;
					padding-top: #{$checkbox-image + 10px};

					.forminator-checkbox-image {
						position: absolute;
						top: 0;
						left: 0;
					}
				}

				&:last-of-type {
					margin-right: 0;
				}
			}

			// ALIGNMENT: Stacked
			&:not(.forminator-checkbox-inline) {
				margin: 20px 0;

				// VARIATION: Has Image.
				&.forminator-has_image {

					// VARIATION: Box + Label.
					&.forminator-has_box {

						.forminator-checkbox-box {
							order: 2;
							margin-left: 10px;
						}

						.forminator-checkbox-label {
							order: 3;
						}

						.forminator-checkbox-image {
							order: 1;
						}
					}
				}

				&:first-of-type {
					margin-top: 10px;
				}

				&:first-child {
					margin-top: 0;
				}

				&:last-of-type {
					margin-bottom: 10px;
				}

				&:last-child {
					margin-bottom: 0;
				}
			}
		}
	}
}
